(function(a){window.addEventListener("load",function(){function b(a,b){var c=localStorage[a];try{c=JSON.parse(c)}catch(a){c=null}if(Array.isArray(c))return b(null,c);var d=new GitHubPolyglot(a,g),e=d.userStats;return localStorage[a]?b(null,localStorage[a]):void(d.repo&&(e=d.repoStats),e.call(d,function(c,d){if(c)return b(c);try{localStorage[a]=JSON.stringify(d)}catch(a){localStorage.clear()}b(null,d)}))}var c=a.querySelector(".loading"),d=a.querySelector(".error"),e=d.querySelector(".message"),f=(Url.queryString("user")||location.search).replace(/^\?@?/g,""),g=Url.queryString("token");if(f){var g=Url.queryString("token")||void 0;return g&&(f=Url.queryString("input"),!f)?(d.classList.add("visible"),e.textContent="If you are using a token, please provide the 'input' querystring parameter."):void(c.classList.add("visible"),b(f,function(b,f){return c.classList.remove("visible"),b?(d.classList.add("visible"),e.textContent=b||"This user doesn't have any repositories."):void(f.sort(function(c,a){return c.value<a.value?1:-1}).forEach(function(a){a.title=a.label,delete a.label}),drawPieChart.call(a.querySelector("#pieChart"),f,{legend:!0}))}))}})})(document);