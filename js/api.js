(function(a){window.addEventListener('load',function(){function b(a,b){var c=localStorage[a];try{c=JSON.parse(c)}catch(a){c=null}if(Array.isArray(c))return b(null,c);var d=new GitHubPolyglot(a,h),e=d.userStats;return localStorage[a]?b(null,localStorage[a]):void(d.repo&&(e=d.repoStats),e.call(d,function(c,d){if(c)return b(c);try{localStorage[a]=JSON.stringify(d)}catch(a){localStorage.clear()}b(null,d)}))}const c=(b,c)=>{const d=a.createElement('div'),e=a.createElement('div'),f=a.createElement('div'),g=a.createElement('div'),h=Math.round(100*(b.value/c));d.classList.add('card'),e.classList.add('card-header'),f.classList.add('card-header-box'),g.classList.add('card-content'),f.innerHTML='&nbsp;',f.style.backgroundColor=b.color,g.innerText=`${b.title}: ${b.value} (${h}%)`,e.appendChild(f),d.appendChild(e),d.appendChild(g),a.getElementById('dashboard').appendChild(d)};var d=a.querySelector('.loading'),e=a.querySelector('.error'),f=e.querySelector('.message'),g=(Url.queryString('user')||location.search).replace(/^\?@?/g,''),h=Url.queryString('token');if(g){var h=Url.queryString('token')||void 0;return h&&(g=Url.queryString('input'),!g)?(e.classList.add('visible'),f.textContent='If you are using a token, please provide the \'input\' querystring parameter.'):void(d.classList.add('visible'),b(g,function(a,b){if(d.classList.remove('visible'),a)return e.classList.add('visible'),f.textContent=a||'This user doesn\'t have any repositories.';b.sort(function(c,a){return c.value<a.value?1:-1}).forEach(function(a){a.title=a.label,delete a.label}),console.log(b);const g=b.map(a=>a.value).reduce((c,a)=>c+a);b.forEach(a=>c(a,g))}))}})})(document);